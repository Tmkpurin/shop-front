import{R as I,S as y,a0 as C,a1 as B,c as S,U as A,Y as r,W as i,L as e,X as o,a2 as l,a3 as c,a4 as $,O as u,_ as f,Z as V,$ as d,a5 as m,a6 as p,a7 as b,a8 as N,a9 as P,aa as R}from"./index--Bup7wsM.js";import{V as z}from"./VContainer-CcKhHILZ.js";import{V as E}from"./VMenu-C-b1TX5s.js";import{V as M,a as U}from"./VList-decdPftt.js";import{V as D,a as F}from"./VBadge-Df-4Au8K.js";import{V as H}from"./VMain-COzUj2u5.js";import"./VDivider-Br2RCJK1.js";import"./VToolbar-BJhW00Ph.js";const K={__name:"text",setup(O){const{t:n}=I(),a=y(),{apiAuth:_}=R(),x=C(),v=B(),k=S(()=>[{to:"/register",text:n("nav.register"),icon:"mdi-account-plus",show:!a.isLoggedIn},{to:"/login",text:n("nav.login"),icon:"mdi-account-arrow-left",show:!a.isLoggedIn},{to:"/cart",text:n("nav.cart"),icon:"mdi-cart",show:a.isLoggedIn},{to:"/orders",text:n("nav.orders"),icon:"mdi-format-list-bulleted",show:a.isLoggedIn},{to:"/admin",text:n("nav.admin"),icon:"mdi-cog",show:a.isLoggedIn&&a.isAdmin}]),h=[{text:"繁體中文",value:"zhHant"},{text:"English",value:"en"}],w=async()=>{try{await _.delete("/user/logout")}catch(s){console.log(s)}a.logout(),x({text:n("logout.success"),snackbarProps:{color:"green"}}),v.push("/")};return(s,g)=>{const L=A("router-view");return r(),i(u,null,[e(D,null,{default:o(()=>[e(z,{class:"d-flex align-center"},{default:o(()=>[e(l,{to:"/",active:!1},{default:o(()=>g[0]||(g[0]=[c("購物網站")])),_:1}),e($),(r(!0),i(u,null,f(k.value,t=>(r(),i(u,{key:t.to},[t.show?(r(),d(l,{key:0,to:t.to,"prepend-icon":t.icon},{default:o(()=>[c(m(t.text)+" ",1),t.to==="/cart"?(r(),d(F,{key:0,content:V(a).cart,floating:"",color:"red"},null,8,["content"])):p("",!0)]),_:2},1032,["to","prepend-icon"])):p("",!0)],64))),128)),V(a).isLoggedIn?(r(),d(l,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:w},{default:o(()=>[c(m(s.$t("nav.logout")),1)]),_:1})):p("",!0),e(E,null,{activator:o(({props:t})=>[e(l,b(N(t)),{default:o(()=>[e(P,{icon:"mdi-translate"})]),_:2},1040)]),default:o(()=>[e(M,null,{default:o(()=>[(r(),i(u,null,f(h,t=>e(U,{key:t.value,onClick:T=>s.$i18n.locale=t.value},{default:o(()=>[c(m(t.text),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),e(H,null,{default:o(()=>[e(L)]),_:1})],64)}}};export{K as default};
