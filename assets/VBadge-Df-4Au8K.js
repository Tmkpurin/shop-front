import{m as A,V as N}from"./VToolbar-BJhW00Ph.js";import{p as P,G as I,s as S,c as i,ay as E,w as k,o as M,b as _,j as F,q as L,E as U,u as Y,H as q,y as C,J as R,L as y,M as H,d as z,aF as J,f as O,bH as W,k as X,l as $,n as j,bf as D,x as G,B as K,b0 as Q,aO as Z,bI as p,bJ as ee,bK as ae,bL as te,as as le,b7 as oe,a9 as se}from"./index--Bup7wsM.js";import{u as ne}from"./VList-decdPftt.js";const re=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ue(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:d}=v;let m=0,n=0;const a=I(null),r=S(0),s=S(0),g=S(0),h=S(!1),o=S(!1),c=i(()=>Number(e.scrollThreshold)),B=i(()=>E((c.value-r.value)/c.value||0)),f=()=>{const l=a.value;if(!l||d&&!d.value)return;m=r.value,r.value="window"in l?l.pageYOffset:l.scrollTop;const u=l instanceof Window?document.documentElement.scrollHeight:l.scrollHeight;if(n!==u){n=u;return}o.value=r.value<m,g.value=Math.abs(r.value-c.value)};return k(o,()=>{s.value=s.value||r.value}),k(h,()=>{s.value=0}),M(()=>{k(()=>e.scrollTarget,l=>{var b;const u=l?document.querySelector(l):window;u&&u!==a.value&&((b=a.value)==null||b.removeEventListener("scroll",f),a.value=u,a.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),_(()=>{var l;(l=a.value)==null||l.removeEventListener("scroll",f)}),d&&k(d,f,{immediate:!0}),{scrollThreshold:c,currentScroll:r,currentThreshold:g,isScrollActive:h,scrollRatio:B,isScrollingUp:o,savedScroll:s}}const ie=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...A(),...F(),...re(),height:{type:[Number,String],default:64}},"VAppBar"),ge=L()({name:"VAppBar",props:ie(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:d}=v;const m=I(),n=U(e,"modelValue"),a=i(()=>{var V;const t=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:t.has("hide"),fullyHide:t.has("fully-hide"),inverted:t.has("inverted"),collapse:t.has("collapse"),elevate:t.has("elevate"),fadeImage:t.has("fade-image")}}),r=i(()=>{const t=a.value;return t.hide||t.fullyHide||t.inverted||t.collapse||t.elevate||t.fadeImage||!n.value}),{currentScroll:s,scrollThreshold:g,isScrollingUp:h,scrollRatio:o}=ue(e,{canScroll:r}),c=i(()=>a.value.hide||a.value.fullyHide),B=i(()=>e.collapse||a.value.collapse&&(a.value.inverted?o.value>0:o.value===0)),f=i(()=>e.flat||a.value.fullyHide&&!n.value||a.value.elevate&&(a.value.inverted?s.value>0:s.value===0)),l=i(()=>a.value.fadeImage?a.value.inverted?1-o.value:o.value:void 0),u=i(()=>{var w,x;if(a.value.hide&&a.value.inverted)return 0;const t=((w=m.value)==null?void 0:w.contentHeight)??0,V=((x=m.value)==null?void 0:x.extensionHeight)??0;return c.value?s.value<g.value||a.value.fullyHide?t+V:t:t+V});Y(i(()=>!!e.scrollBehavior),()=>{z(()=>{c.value?a.value.inverted?n.value=s.value>g.value:n.value=h.value||s.value<g.value:n.value=!0})});const{ssrBootStyles:b}=ne(),{layoutItemStyles:T}=q({id:e.name,order:i(()=>parseInt(e.order,10)),position:C(e,"location"),layoutSize:u,elementSize:S(void 0),active:n,absolute:C(e,"absolute")});return R(()=>{const t=N.filterProps(e);return y(N,H({ref:m,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...T.value,"--v-toolbar-image-opacity":l.value,height:void 0,...b.value},e.style]},t,{collapse:B.value,flat:f.value}),d)}),{}}}),ce=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:J,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...O(),...W({location:"top end"}),...X(),...$(),...j(),...D({transition:"scale-rotate-transition"})},"VBadge"),fe=L()({name:"VBadge",inheritAttrs:!1,props:ce(),setup(e,v){const{backgroundColorClasses:d,backgroundColorStyles:m}=G(C(e,"color")),{roundedClasses:n}=K(e),{t:a}=Q(),{textColorClasses:r,textColorStyles:s}=Z(C(e,"textColor")),{themeClasses:g}=p(),{locationStyles:h}=ee(e,!0,o=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(o)?+(e.offsetY??0):["left","right"].includes(o)?+(e.offsetX??0):0));return R(()=>{const o=Number(e.content),c=!e.max||isNaN(o)?e.content:o<=+e.max?o:`${e.max}+`,[B,f]=ae(v.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return y(e.tag,H({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},f,{style:e.style}),{default:()=>{var l,u;return[y("div",{class:"v-badge__wrapper"},[(u=(l=v.slots).default)==null?void 0:u.call(l),y(te,{transition:e.transition},{default:()=>{var b,T;return[le(y("span",H({class:["v-badge__badge",g.value,d.value,n.value,r.value],style:[m.value,s.value,e.inline?{}:h.value],"aria-atomic":"true","aria-label":a(e.label,o),"aria-live":"polite",role:"status"},B),[e.dot?void 0:v.slots.badge?(T=(b=v.slots).badge)==null?void 0:T.call(b):e.icon?y(se,{icon:e.icon},null):c]),[[oe,e.modelValue]])]}})])]}})}),{}}});export{ge as V,fe as a};
