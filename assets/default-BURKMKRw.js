import{R as I,S as y,a0 as C,a1 as B,c as S,U as A,W as l,L as e,X as o,O as i,Y as r,a2 as c,a3 as u,a4 as $,_ as f,Z as V,$ as d,a5 as m,a6 as p,a7 as b,a8 as N,a9 as P,aa as R}from"./index--Bup7wsM.js";import{V as z,a as E}from"./VBadge-Df-4Au8K.js";import{V as M}from"./VMain-COzUj2u5.js";import{V as U}from"./VContainer-CcKhHILZ.js";import{V as D}from"./VMenu-C-b1TX5s.js";import{V as F,a as H}from"./VList-decdPftt.js";import"./VToolbar-BJhW00Ph.js";import"./VDivider-Br2RCJK1.js";const K={__name:"default",setup(O){const{t:n}=I(),a=y(),{apiAuth:_}=R(),v=C(),x=B(),k=S(()=>[{to:"/register",text:n("nav.register"),icon:"mdi-account-plus",show:!a.isLoggedIn},{to:"/login",text:n("nav.login"),icon:"mdi-account-arrow-left",show:!a.isLoggedIn},{to:"/cart",text:n("nav.cart"),icon:"mdi-cart",show:a.isLoggedIn},{to:"/orders",text:n("nav.orders"),icon:"mdi-format-list-bulleted",show:a.isLoggedIn},{to:"/admin",text:n("nav.admin"),icon:"mdi-cog",show:a.isLoggedIn&&a.isAdmin}]),h=[{text:"繁體中文",value:"zhHant"},{text:"English",value:"en"}],w=async()=>{try{await _.delete("/user/logout")}catch(s){console.log(s)}a.logout(),v({text:n("logout.success"),snackbarProps:{color:"green"}}),x.push("/")};return(s,g)=>{const L=A("router-view");return r(),l(i,null,[e(z,null,{default:o(()=>[e(U,{class:"d-flex align-center"},{default:o(()=>[e(c,{to:"/",active:!1},{default:o(()=>g[0]||(g[0]=[u("購物網站")])),_:1}),e($),(r(!0),l(i,null,f(k.value,t=>(r(),l(i,{key:t.to},[t.show?(r(),d(c,{key:0,to:t.to,"prepend-icon":t.icon},{default:o(()=>[u(m(t.text)+" ",1),t.to==="/cart"?(r(),d(E,{key:0,content:V(a).cart,floating:"",color:"red"},null,8,["content"])):p("",!0)]),_:2},1032,["to","prepend-icon"])):p("",!0)],64))),128)),V(a).isLoggedIn?(r(),d(c,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:w},{default:o(()=>[u(m(s.$t("nav.logout")),1)]),_:1})):p("",!0),e(D,null,{activator:o(({props:t})=>[e(c,b(N(t)),{default:o(()=>[e(P,{icon:"mdi-translate"})]),_:2},1040)]),default:o(()=>[e(F,null,{default:o(()=>[(r(),l(i,null,f(h,t=>e(H,{key:t.value,onClick:T=>s.$i18n.locale=t.value},{default:o(()=>[u(m(t.text),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),e(M,null,{default:o(()=>[e(L)]),_:1})],64)}}};export{K as default};
